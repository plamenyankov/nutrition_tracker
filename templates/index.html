{% extends 'layout.html' %}

{% block content %}

<div class="row justify-content-md-center">
    <h1 class="text-center mt-5">Nutrition Tracker</h1>

        <canvas id="myChart"></canvas>
        <canvas id="calorieChart"></canvas>
        <canvas id="weightChart"></canvas>


        <script type="text/javascript">
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ dates|tojson }},
            datasets: [
                    {
                    label: 'Fats',
                    data: {{ fats|tojson }},
                    backgroundColor: 'rgba(135, 206, 235, 0.2)',
                    borderColor: 'rgba(135, 206, 235, 1)',
                    borderWidth: 1
                },
                 {
                    label: 'Carbs',
                    data: {{ carbs|tojson }},
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Protein',
                    data: {{ proteins|tojson }},
                    backgroundColor: 'rgba(255, 159, 64, 0.2)',
                    borderColor: 'rgba(255, 159, 64, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    stacked: true
                },
                x: {
                    stacked: true
                }
            }
        }
    });
    var ctx2 = document.getElementById('calorieChart').getContext('2d');
    new Chart(ctx2, {
        type: 'line',
        data: {
            labels: {{ date_calories|tojson }},
            datasets: [
                    {
                    label: 'Calories',
                    data: {{ data_calories|tojson }},
                    backgroundColor: 'rgba(135, 206, 235, 0.2)',
                    borderColor: 'rgba(135, 206, 235, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    stacked: true
                },
                x: {
                    stacked: true
                }
            }
        }
    });
    var ctx3 = document.getElementById('weightChart').getContext('2d');
    new Chart(ctx3, {
        type: 'line',
        data: {
            labels: {{ date_weight|tojson }},
            datasets: [
                    {
                    label: 'Weight',
                    data: {{ data_weight|tojson }},
                    backgroundColor: 'rgba(135, 206, 235, 0.2)',
                    borderColor: 'rgba(135, 206, 235, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    stacked: true
                },
                x: {
                    stacked: true
                }
            }
        }
    });
        </script>

</div>


{% endblock %}
