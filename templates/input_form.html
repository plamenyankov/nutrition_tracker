{% extends 'layout.html' %}

{% block content %}

<div class="row justify-content-md-center">
    <h1 class="text-center mt-5">Nutrition Tracker</h1>

        <canvas id="myChart"></canvas>


        <script type="text/javascript">
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ dates|tojson }},
            datasets: [
                    {
                    label: 'Fats',
                    data: {{ fats|tojson }},
                    backgroundColor: 'rgba(135, 206, 235, 0.2)',
                    borderColor: 'rgba(135, 206, 235, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Protein',
                    data: {{ proteins|tojson }},
                    backgroundColor: 'rgba(255, 159, 64, 0.2)',
                    borderColor: 'rgba(255, 159, 64, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Carbs',
                    data: {{ carbs|tojson }},
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                },
     {
                    label: 'Kcal',
                    data: {{ kcals|tojson }},
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1,
                    stack: 'Stack 0'
                }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    stacked: true
                },
                x: {
                    stacked: true
                }
            }
        }
    });
        </script>

</div>


{% endblock %}
